# Requests
Модуль для работы с запросами к API (VK или другому). Представляет собой две функции.

## request
Функция для запросов к API. В результате возвращает ответ, декодированный через `json_decode($text, true)`.

| Параметр    | Тип    | Описание                                                                      |
|-------------|--------|-------------------------------------------------------------------------------|
| $url        | string | URL для запроса                                                               |
| $postfields | array  | Параметры post-запроса                                                        |
| $agent      | string | User-Agent. По умолчанию `Senses Bot Engine/%d`, где `%d` - версия библиотеки |

```php
request('https://api.slmatthew.ru/someMethod', ['fromSenses' => 1], 'My user agent');
```

## call
Функция для запросов к VK API. Возвращает ответ от функции [request](#request).

| Параметр  | Тип    | Описание                                               |
|-----------|--------|--------------------------------------------------------|
| $method   | string | Название метода                                        |
| $params   | array  | Параметры метода                                       |
| $official | bool   | Сделать запрос от имени клиента VK для Android или нет |

В параметре `$params` изначально устанавливаются дефолтные значения, если не указаны при вызове функции.

| Поле         | Тип    | Описание                                                                                                  |
|--------------|--------|-----------------------------------------------------------------------------------------------------------|
| access_token | string | access_token для работы с VK API                                                                          |
| v            | string | Версия VK API                                                                                             |
| unsestToken  | bool   | Если указано это поле и выполняется `$params['unsestToken']`, при запросе не будет передан `access_token` |

```php
call('users.get', ['user_ids' => 305360617]);
```